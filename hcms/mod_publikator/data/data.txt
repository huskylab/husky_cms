1[:::]название[:::]<a href="index.php?do=addnews">Добавить новость (publikator)</a> <h1>Здесь ссылочки разные</h1> <a href="hcms/index.php">Админка</a> <br /><a href="../content/all">Все статьи</a> <br /><a href="../content_autor/autor7">Ничего не найдено(</a> <h1>Странички</h1> <a href="../content/2">Полезные ссылки</a> <br /><a href="../content/3">Модуль pager</a> <h1>Заметки</h1> ... <h1>Теги</h1> <a href="../tema/Общие положения">Общие положения</a> <br /><a href="../tema/Модули">Модули</a> <h1>Категории</h1> <a href="../tip/Страница">Страница</a> <br /><a href="../tip/Заметка">Заметка</a>[:::][:::]mycat[:::]label[:::]30.07.2013, 9:35 pm[:::]05.08.2013, 1:08 pm[:::]editor[:::]autor[:::]0[:::]2[:::]text[:::][:::]
2[:::]Общие положения[:::]Общие положения[:::]<ul> <li><a href="evernote://hcms.ru/view/37168479/s273/bba69888-fb71-4727-9bda-d390ec4f0c8f/bba69888-fb71-4727-9bda-d390ec4f0c8f/">index.php</a></li> <li>[files] <ul> <li>images</li> <li>video</li> <li>text</li> <li>...</li> </ul> </li> <li>[hcms] <ul> <li><a href="evernote://hcms.ru/view/37168479/s273/8a178cab-a10a-46a1-a8dd-38ccbb73cfbe/8a178cab-a10a-46a1-a8dd-38ccbb73cfbe/">hcms/index.php</a></li> <li>core_functions.php</li> <li>core_&nbsp;config.php</li> <li><em>core_</em>&nbsp;header.php</li> <li>[data] <ul> <li>pic.jpg</li> </ul> </li> <li>[_my_mod_1] <ul> <li>index.php</li> <li><em>functions.php</em></li> <li><em><em><em>header.php</em></em></em></li> <li><em>config.php</em></li> <li>[data] <ul> <li><em>pic.jpg</em></li> </ul> </li> </ul> </li> <li>[template_adm_default] <ul> <li><a href="evernote://hcms.ru/view/37168479/s273/d0ed1ed6-7bfd-4ac1-aa6c-e467ee56114e/d0ed1ed6-7bfd-4ac1-aa6c-e467ee56114e/">hcms/template_adm_default/index.php</a></li> <li><a href="evernote://hcms.ru/view/37168479/s273/54800625-ec0b-4dcf-b3b3-32288dd223d0/54800625-ec0b-4dcf-b3b3-32288dd223d0/">hcms/template_adm_default/style.css</a></li> </ul> </li> <li>[template_default] <ul> <li><a href="evernote://hcms.ru/view/37168479/s273/843260c8-1fbb-4ed6-bbec-51a430f8954e/843260c8-1fbb-4ed6-bbec-51a430f8954e/">hcms/template_default/index.php</a></li> <li><a href="evernote://hcms.ru/view/37168479/s273/44d5dafc-a225-4578-82f4-5566a1375cfd/44d5dafc-a225-4578-82f4-5566a1375cfd/">hcms/template_default/style.css</a></li> <li><em>functions.php</em></li> <li><em><em><em>header.php</em></em></em></li> <li><em>config.php</em></li> <li>[resource] <ul> <li><em>pic.jpg</em></li> </ul> </li> </ul> </li> </ul> </li> </ul>[:::]short_new[:::]cat[:::]mylabel[:::]05.08.2013, 1:08 pm[:::]01.08.2013, 11:41 pm[:::]editor[:::]autor[:::]0[:::]text[:::][:::]
3[:::]Полезные ссылки[:::][:::]<ul> <li><a href="http://php.net/manual/ru/language.types.array.php" target="_blank">Массивы php</a></li> <li><a href="http://www.php.net/manual/ru/function.explode.php">Функция Explode</a></li> <li><a href="http://php.net/manual/ru/function.implode.php">Функция Implode</a></li> <li><a href="http://www.ibm.com/developerworks/ru/library/os-php-readfiles/">Как правильно читать файлы с помощью PHP</a></li> </ul>[:::]category[:::]label[:::]30.07.2013, 8:47 pm[:::]05.08.2013, 1:08 pm[:::]editor[:::]autor[:::]0[:::]1[:::]text[:::][:::]
4[:::]Модуль pager (подключение)[:::]<pre class="brush: php">if (isset ($_GET['parametr']) &amp;&amp; $_GET['key'] !== 'all')<br />{<br />$parametr = $_GET['parametr'];<br />$key = $_GET['key'];<br />$post_template = 'pager_post_template_simple_page.php';<br />content_input();<br />}<br />if (!isset ($_GET['parametr']) &amp;&amp; $_GET['key'] == 'all')<br />{<br />$post_template = 'pager_post_template_news.php';<br /><br />content_input();<br />}<br />if (!isset ($_GET['parametr']) &amp;&amp; !isset ($_GET['key']))<br />{<br />$parametr = "id";<br />$key = "1";<br />$post_template = 'pager_post_template_simple_page.php';<br />content_input();<br />} <br />// $parametr = "id";<br />// $key = "5";<br />// echo $hpost[4]['fullpost'];<br />echo $pager_config['date'];<br />?&gt;</pre>[:::][:::]category[:::]label[:::]30.07.2013, 8:48 pm[:::]05.08.2013, 1:08 pm[:::]editor[:::]autor[:::]0[:::]2[:::]code[:::][:::]
5[:::]Модуль pager (виды ссылок)[:::]<pre class="brush: xml">&lt;h1&gt;Здесь ссылочки разные&lt;/h1&gt;<br />&lt;p&gt;&lt;br /&gt;&lt;a href="hcms/index.php"&gt;Админка&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;<br />&lt;a href="../index.php?key=all"&gt;Все статьи&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;<br />&lt;a href="../index.php?parametr=autor&amp;amp;key=autor7"&gt;Ничего не найдено(&lt;/a&gt;&lt;/p&gt;<br />&lt;h1&gt;Странички&lt;/h1&gt;<br />&lt;p&gt;&lt;br /&gt;&lt;a href="../index.php?parametr=id&amp;amp;key=2"&gt;Полезные ссылки&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;<br />&lt;a href="../index.php?parametr=id&amp;amp;key=3"&gt;Модуль pager&lt;/a&gt;&lt;/p&gt;<br />&lt;h1&gt;Заметки&lt;/h1&gt;<br />&lt;p&gt;&lt;br /&gt;...&lt;/p&gt;<br />&lt;h1&gt;Теги&lt;/h1&gt;<br />&lt;p&gt;&lt;br /&gt;&lt;a href="../index.php?parametr=tag&amp;amp;key=Общие положения"&gt;Общие положения&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;<br />&lt;a href="../index.php?parametr=tag&amp;amp;key=Модули"&gt;Модули&lt;/a&gt;&lt;/p&gt;<br />&lt;h1&gt;Категории&lt;/h1&gt;<br />&lt;p&gt;&lt;br /&gt;&lt;a href="../index.php?parametr=category&amp;amp;key=Страница"&gt;Страница&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;<br />&lt;a href="../index.php?parametr=category&amp;amp;key=Заметка"&gt;Заметка&lt;/a&gt;&lt;/p&gt;</pre>[:::][:::]category[:::]label[:::]30.07.2013, 8:48 pm[:::]05.08.2013, 1:07 pm[:::]editor[:::]autor[:::]0[:::]6[:::]code[:::][:::]
9[:::]система управления сайтом hcms[:::]<strong><a href="../">Cистема управления сайтом hcms</a> - шапка сайта Алешкина шапка!</strong><br /> Этот текст выводится с помощью модуля publikator[:::][:::]русская[:::]label[:::]01.08.2013, 7:55 pm[:::]05.08.2013, 1:07 pm[:::]editor[:::]autor[:::]0[:::]12[:::]text[:::][:::]
10[:::]Тестовая новость[:::]Тестируем по полной программе[:::]Идет тестирование![:::]category[:::]label[:::]01.08.2013, 11:46 pm[:::]05.08.2013, 1:06 pm[:::]editor[:::]autor[:::]0[:::]2[:::]text[:::][:::]
11[:::]Использование TinyMCE[:::][:::]<p>Первая новость, написанная с помощью текстового редактора TinyMCE</p> <p>И, чтобы не забыть, надстройка, исключающая обрамление текста тегом</p> <pre class="brush: xml">&lt;p&gt;</pre> <pre class="brush: js">forced_root_block : false,<br />force_br_newlines : true,<br />force_p_newlines : false</pre>[:::]category[:::]label[:::]04.08.2013, 3:48 pm[:::]05.08.2013, 1:06 pm[:::]editor[:::]autor[:::]0[:::]2[:::]code[:::][:::]
17[:::]Изменения для корректной вставки HTML кода[:::]<strong>Шаблон вывода новостей</strong><br /><br /><strong>Было</strong><br /> <pre class="brush: php">echo $post[$number]["short_new"])."&lt;br&gt;";<br />echo $post[$number]["full_new"]), "&lt;br&gt;";</pre> <strong>Стало</strong><br /> <pre class="brush: php">if ($post[$number]["short_new"])<br />{echo str_replace("&lt;br /&gt;", "&lt;br /&gt;\r\n", $post[$number]["short_new"])."&lt;br&gt;";};<br />if ($post[$number]["full_new"])<br />{echo str_replace("&lt;br /&gt;", "&lt;br /&gt;\r\n", $post[$number]["full_new"]), "&lt;br&gt;";};</pre>[:::]<strong>Форма редактирования новостей<br /><br />Было</strong><br /> <pre class="brush: php; html-script: true">&lt;textarea class="forred" name=short_new &gt;<br />&lt;?php echo $post[$number]['short_new']; ?&gt;<br />&lt;/textarea&gt;</pre> <strong>Стало</strong><br /> <pre class="brush: php; html-script: true">&lt;textarea class="forred" name=short_new &gt;<br />&lt;?php echo htmlspecialchars($post[$number]['short_new']); ?&gt;<br />&lt;/textarea&gt;</pre>[:::]category[:::]label[:::]04.08.2013, 6:44 pm[:::]05.08.2013, 1:06 pm[:::]editor[:::]autor[:::]0[:::]4[:::]code[:::][:::]
18[:::]Тестирование использования инструмента "Формат"[:::][:::]<pre class="brush: php">&lt;?php <br />include "hcms/core_header.php";<br />?&gt;</pre> <img src="https://www.evernote.com/shard/s273/sh/6c1d9840-1a33-4632-a44f-9dd11eec9c33/c0376cea45f892ffbd5107033fa324e1/res/d23c1cb2-4a27-414d-a3be-02492226b75a/ScreenClip.png?resizeSmall&amp;width=832" alt="Инструмент &quot;формат&quot;" width="304" height="340" /><br /><br /><img src="https://www.evernote.com/shard/s273/sh/6c1d9840-1a33-4632-a44f-9dd11eec9c33/c0376cea45f892ffbd5107033fa324e1/res/68125374-f635-4eec-aceb-a41fd12f036d/ScreenClip.png?resizeSmall&amp;width=832" alt="" width="481" height="150" />[:::]category[:::]label[:::]04.08.2013, 8:21 pm[:::]05.08.2013, 1:06 pm[:::]editor[:::]autor[:::]0[:::]2[:::]code[:::][:::]
20[:::]JScript + HTML[:::][:::]<pre class="brush: js; html-script: true">&lt;link type="text/css" rel="stylesheet" href="http://hcms.ru/hcms/template_default/syntaxhighlighter/styles/shCoreDefault.css"/&gt;<br />&lt;script type="text/javascript"&gt;<br />SyntaxHighlighter.config.stripBrs = true;<br />SyntaxHighlighter.all();<br />&lt;/script&gt;</pre>[:::]category[:::]label[:::]04.08.2013, 8:56 pm[:::]05.08.2013, 1:05 pm[:::]editor[:::]autor[:::]0[:::]7[:::]code[:::][:::]
21[:::]Замена тега br[:::]<p>Полезная ссылочка: <a href="http://www.pcre.ru/eval/" target="_blank">Конструктор регулярных выражений</a></p>[:::]<pre class="brush: js">function fixInputString(str)<br />{<br />var br = /&lt;br\s*\/?&gt;|&amp;lt;brr\s*\/?&amp;gt;/gi; <br /><br />if (sh.config.bloggerMode == true)<br />    str = str.replace(br, '\n');<br /><br />if (sh.config.stripBrs == true)<br />    str = str.replace(br, '');<br />return str;<br />};</pre> <p><strong>Решение</strong></p> <p><strong>forma_editnews.php</strong></p> <pre class="brush: php">&lt;?php<br />&nbsp; if ($post[$number]['tip_posta'] == 'text')<br />&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; echo "&lt;input checked='checked' type='radio' name='tip_posta' value='text'&gt; Текст &lt;br&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; echo "&lt;input type='radio' name='tip_posta' value='code'&gt; Код &lt;br&gt;";<br />&nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp; elseif ($post[$number]['tip_posta'] == 'code')<br />&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; echo "&lt;input type='radio' name='tip_posta' value='text'&gt; Текст &lt;br&gt;";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; echo "&lt;input checked='checked' type='radio' name='tip_posta' value='code'&gt; Код &lt;br&gt;";<br />&nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp; else<br />&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; echo "&lt;input checked='checked' type='radio' name='tip_posta' value='text'&gt; Текст &lt;br&gt;";<br />&nbsp;&nbsp;  &nbsp; &nbsp; echo "&lt;input type='radio' name='tip_posta' value='code'&gt; Код &lt;br&gt;";<br />&nbsp;&nbsp; &nbsp; }&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; <br />?&gt;</pre> <p><strong>forma_putnews.php</strong></p> <pre class="brush: xml">&lt;tr&gt;<br />&lt;td valign="top"&gt;Тип новости &lt;/td&gt;<br />&lt;td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="radio" name="tip_posta" value="text"&gt; Текст &lt;br&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="radio" name="tip_posta" value="code"&gt; Код &lt;br&gt;<br />&lt;/td&gt;<br />&lt;/tr&gt;</pre> <p><strong>default.php</strong></p> <pre class="brush: php">if ($post[$number]["short_new"] &amp;&amp; $post[$number] ["tip_posta"] == 'text') <br />{echo $post[$number]["short_new"]."&lt;br&gt;";};<br /><br />if ($post[$number]["short_new"] &amp;&amp; $post[$number]["tip_posta"] == 'code') <br />{echo str_replace("&lt;br /&gt;", "\r\n", $post[$number]["short_new"])."&lt;br&gt;";};<br /><br />if ($post[$number]["full_new"] &amp;&amp; $post[$number]["tip_posta"] == 'text') <br />{echo $post[$number]["full_new"], "&lt;br&gt;";};<br /><br />if ($post[$number]["full_new"] &amp;&amp; $post[$number]["tip_posta"] == 'code') <br />{echo str_replace("&lt;br /&gt;", "\r\n", $post[$number]["full_new"]), "&lt;br&gt;";};</pre>[:::]category[:::]label[:::]04.08.2013, 11:31 pm[:::]05.08.2013, 1:40 pm[:::]editor[:::]autor[:::]0[:::]6[:::]code[:::][:::]
22[:::]старая структура модуля mod_publikator[:::]full_new[:::]admin<br />----------------------<br />-functions<br />--bd_functions<br />--core_functions.php<br />--functions.php<br /><br />-data<br />--tot_data.php<br /><br />-config.php<br /><br />-moduli<br />--functions<br />---bd_functions<br />---core_functions.php<br />---functions.php<br />--data<br />---tot_data.php[:::]category[:::]label[:::]05.08.2013, 11:59 am[:::]05.08.2013, 1:11 pm[:::]editor[:::]autor[:::]0[:::]2[:::]text[:::][:::]
23[:::]Данные модуля mod_publikator[:::]проверим[:::]id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (число) | $post[$number]["id"]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />название&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (текст) | $post[$number]["title"]&nbsp;&nbsp;&nbsp;&nbsp; |<br />полная новость&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (текст) | $post[$number]["full_new"]&nbsp; |<br />краткая новость&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (текст) | $post[$number]["short_new"] |<br />категория&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["category"] |<br />ярлык&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["label"]&nbsp;&nbsp;&nbsp; |<br />дата добавления&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["date_add"]&nbsp; |<br />дата редактирования&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["date_edit"] |<br />редактор&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (текст) | $post[$number]["editor"]&nbsp;&nbsp;&nbsp; |<br />автор&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (текст) | $post[$number]["autor"]&nbsp;&nbsp;&nbsp;&nbsp; |<br />рейтинг&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (число) | $post[$number]["rang"]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />число просмотров&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (число) | $post[$number]["views"]&nbsp;&nbsp;&nbsp;&nbsp; |<br />резервная&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["dop"]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br /><br />----------------------------------<br /><br />коментарии&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (array) | $post[$number]["cometarii"] |<br /><br />дата добавления, дата редактирования<br />- год<br />- месяц<br />- день<br />- час<br />- минута<br /><br />коментарии<br />- id<br />- коментарий<br />- автор<br />- дата (array)<br />- рейтинг коментария[:::]category[:::]label[:::]05.08.2013, 12:03 pm[:::]05.08.2013, 1:10 pm[:::]editor[:::]autor[:::]0[:::]2[:::]text[:::][:::]